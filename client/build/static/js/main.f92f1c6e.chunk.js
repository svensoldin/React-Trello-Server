(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{158:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),s=n.n(c),i=n(17),o=n(19),u=n(3),l=n(4),d=n.n(l),j=n(7),b=n(41),p=n.n(b),f=p.a.create({baseURL:"production"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL_DEV:"http://localhost:5000/api"})["NODE.ENV"]?"/api":"http://localhost:5000/api",withCredentials:!0}),h=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"Login start"}),e.prev=1,e.next=4,f.post("users/signin",n);case 4:if(200!==(r=e.sent).status){e.next=8;break}return t({type:"Login success",payload:r.data.user}),e.abrupt("return",r.data.user);case 8:e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(1),console.error(e.t0),!e.t0.response){e.next=15;break}return e.abrupt("return",t({type:"Wrong credentials",payload:"Wrong credentials"}));case 15:t({type:"Login fail",payload:"Oops, something went wrong"});case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/users/logout",{});case 3:200===e.sent.status&&t({type:"Logout"}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/users/register",t);case 3:if(200!==(r=e.sent).status){e.next=7;break}return n({type:"Login success",payload:r.data.user}),e.abrupt("return",r.data.user);case 7:r.data.errors&&n({type:"Login fail",payload:r.data.errors}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),n({type:"Login fail",payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),x=n(6),v={userDetails:{name:"",id:"",email:""},error:null,loading:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Login start":return Object(x.a)(Object(x.a)({},e),{},{loading:!0});case"Login success":return Object(x.a)(Object(x.a)({},e),{},{userDetails:t.payload,loading:!1});case"Login fail":return Object(x.a)(Object(x.a)({},e),{},{error:t.payload,loading:!1});case"Wrong credentials":return Object(x.a)(Object(x.a)({},e),{},{error:"Wrong credentials",loading:!1});case"Logout":return{userDetails:{name:"",id:"",email:""},loading:!1,error:null};default:return e}},w=n(1),N=r.createContext(void 0),y=r.createContext(void 0),k=function(e){var t=e.children,n=r.useReducer(g,v),a=Object(u.a)(n,2),c=a[0],s=a[1];return Object(w.jsx)(N.Provider,{value:c,children:Object(w.jsx)(y.Provider,{value:s,children:t})})};function C(){var e=r.useContext(N);if(void 0===e)throw new Error("useAuthState must be used within an AuthProvider");return e}function S(){var e=r.useContext(y);if(void 0===e)throw new Error("useAuthDispatch must be used within an AuthProvider");return e}var E=Object(o.b)(void 0),_=Object(o.b)({isOpen:!1,message:"",severity:"success"}),D=n(88),F=n(219),P=n(94),R=n.n(P),L=Object(D.a)({root:{fontFamily:"inherit"}}),A=function(){var e=Object(o.c)(_),t=Object(u.a)(e,2),n=t[0],r=n.isOpen,a=n.message,c=n.severity,s=t[1],i=L();return Object(w.jsx)(F.a,{open:r,autoHideDuration:1500,onClose:function(){s({isOpen:!1,message:a,severity:c})},children:Object(w.jsx)(R.a,{severity:c,variant:"filled",className:i.root,children:a})})},I=n(95),T=n(96),U=n(113),W=n(111),H=function(e){Object(U.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(I.a)(this,n),(r=t.call(this,e)).state={hasError:!1,error:void 0},r}return Object(T.a)(n,[{key:"render",value:function(){return this.state.hasError&&this.state.error?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{children:"Oh nooon, something went wrong :("}),Object(w.jsx)("p",{children:this.state.error})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(r.Component),B=n(23);function K(e){var t=a.a.useState(),n=Object(u.a)(t,2),r=n[0],c=n[1],s=a.a.useCallback(Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.get("/users/profile/".concat(e),{responseType:"blob"});case 3:return n=t.sent,t.abrupt("return",c(URL.createObjectURL(n.data)));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",console.error(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[c,e]);return a.a.useEffect((function(){s()}),[s]),{pictureUrl:r}}var M=n(72),z=n(220),V=(n(158),function(e){var t=e.handleLogout,n=e.avatarURL,r=e.setIsOpen,a=C().userDetails,c=a.name,s=a.email;return Object(w.jsxs)(M.a,{className:"user-dropdown",children:[Object(w.jsxs)("div",{className:"user-info",children:[Object(w.jsx)(z.a,{src:n,children:c.split("")[0]}),Object(w.jsxs)("div",{className:"name-email",children:[Object(w.jsx)("p",{children:c}),Object(w.jsx)("p",{className:"user-email",children:s})]})]}),Object(w.jsx)(B.b,{to:"/",className:"link",onClick:function(){return r(!1)},children:Object(w.jsx)("div",{className:"dropdown-item",children:"Dashboard"})}),Object(w.jsx)(B.b,{to:"/profile",className:"link",onClick:function(){return r(!1)},children:Object(w.jsx)("div",{className:"dropdown-item",children:"Profile"})}),Object(w.jsx)("div",{className:"dropdown-item logout",onClick:t,children:"Logout"})]})}),q=n(215),G=n(213),J=(n(162),function(e){var t=e.name,n=r.useState(!1),a=Object(u.a)(n,2),c=a[0],s=a[1],o=r.useState(),l=Object(u.a)(o,2),b=l[0],p=l[1],f=Object(i.g)(),h=K(C().userDetails.id).pictureUrl,O=S(),x=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m(O);case 3:f.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(G.a,{onClickAway:function(){return s(!1)},children:Object(w.jsxs)("div",{className:"user-header",children:[Object(w.jsx)(z.a,{src:h,className:"avatar",alt:t,"aria-haspopup":"true",onClick:function(e){p(e.target),s(!c)},children:t.split("")[0].toUpperCase()}),Object(w.jsx)(q.a,{open:c,anchorEl:b,"data-testid":"dropdown",children:Object(w.jsx)(V,{handleLogout:x,avatarURL:h,setIsOpen:s})})]})})}),Y=n(98),X=n.n(Y),Q=(n(163),function(){return Object(w.jsxs)("div",{className:"searchbar",children:[Object(w.jsx)("input",{type:"text",placeholder:"search...",className:"search-input"}),Object(w.jsx)("button",{className:"search-btn",children:Object(w.jsx)(X.a,{fontSize:"small"})})]})}),Z=n(216);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var te=r.createElement("defs",null,r.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"a"},r.createElement("stop",{stopColor:"#F8F8F8",offset:"0%"}),r.createElement("stop",{stopColor:"#F8F8F8",offset:"100%"}))),ne=r.createElement("rect",{fill:"url(#a)",width:256,height:256,rx:25}),re=r.createElement("rect",{fill:"#2f80ed",x:144.64,y:33.28,width:78.08,height:112,rx:12}),ae=r.createElement("rect",{fill:"#2f80ed",x:33.28,y:33.28,width:78.08,height:176,rx:12});function ce(e,t){var n=e.title,a=e.titleId,c=ee(e,["title","titleId"]);return r.createElement("svg",$({width:40,height:40,viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,te,ne,re,ae)}var se=r.forwardRef(ce),ie=(n.p,n(164),{background:"#F8F8F8",minHeight:60,maxHeight:60}),oe=function(){var e=C().userDetails,t=e.id,n=e.name;return Object(w.jsx)(Z.a,{position:"static",style:ie,children:Object(w.jsxs)("header",{className:"header",children:[Object(w.jsxs)(B.b,{to:"/",className:"title-container",children:[Object(w.jsx)(se,{style:{width:30}}),Object(w.jsx)("h3",{className:"main-title",children:"React-Trello"})]}),t?Object(w.jsxs)("nav",{className:"nav",children:[Object(w.jsx)(Q,{}),Object(w.jsx)(J,{name:n})]}):null]})})},ue=function(e){var t=Object.assign({},e);return C().userDetails.id?Object(w.jsx)(i.b,Object(x.a)({},t)):Object(w.jsx)(i.a,{to:"/"})},le=n(110);function de(){return(de=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/users/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}n(165);var je=function(e){var t=e.userId,n=e.name,r=e.style,a=K(t).pictureUrl;return Object(w.jsx)(z.a,{src:a,alt:"user",style:r,children:n.split("")[0].toUpperCase()})},be=(n(166),function(e){var t=e.title,n=e.id,r=e.users;return Object(w.jsxs)(B.b,{to:"/boards/".concat(n),className:"board-thumbnail",children:[Object(w.jsx)("img",{alt:"board",width:"250",height:"150",src:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=752&q=80"}),Object(w.jsx)("p",{children:t}),Object(w.jsx)("div",{className:"board-thumbnail-users",children:r.map((function(e){var t=e.name,n=e._id;return Object(w.jsx)(je,{userId:n,name:t},n)}))})]})}),pe=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="column"===e.t0?3:"card"===e.t0?13:23;break;case 3:return e.prev=3,e.next=6,f.patch("/boards/".concat(n,"/column/add"),{title:r});case 6:return a=e.sent,e.abrupt("return",a.data);case 10:return e.prev=10,e.t1=e.catch(3),e.abrupt("return",e.t1);case 13:return e.prev=13,e.next=16,f.patch("/columns/".concat(n,"/card/add"),{title:r});case 16:return c=e.sent,e.abrupt("return",c.data);case 20:return e.prev=20,e.t2=e.catch(13),e.abrupt("return",e.t2);case 23:return e.abrupt("return");case 24:case"end":return e.stop()}}),e,null,[[3,10],[13,20]])})));return function(t,n,r){return e.apply(this,arguments)}}(),fe=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.patch("/cards/".concat(n,"/").concat(r,"/update"),{text:t},{withCredentials:!0});case 3:return e.abrupt("return");case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),he=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.patch("/boards/".concat(t,"/user/").concat(n,"/add"),{withCredentials:!0});case 3:return e.abrupt("return");case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),me=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.patch("/columns/drag/".concat(t,"/").concat(n),r);case 3:200===e.sent.status&&console.log("success"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(j.a)(d.a.mark((function e(t,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.patch("/boards/".concat(t,"/drag/").concat(n,"/").concat(r));case 3:if(200!==e.sent.status){e.next=6;break}return e.abrupt("return",console.log("success"));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.delete("/columns/".concat(t,"/delete"));case 3:if(200!==e.sent.status){e.next=6;break}return e.abrupt("return",console.log("success"));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/boards/",{title:t});case 3:if(200!==(n=e.sent).status){e.next=6;break}return e.abrupt("return",n.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.delete("/boards/".concat(t));case 3:if(200!==e.sent.status){e.next=6;break}return e.abrupt("return",console.log("success"));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),we=n(67),Ne=n.n(we),ye=(n(167),function(){var e=r.useState(),t=Object(u.a)(e,2),n=t[0],a=t[1],c=r.useState(!1),s=Object(u.a)(c,2),o=s[0],l=s[1],b=r.useState(""),p=Object(u.a)(b,2),f=p[0],h=p[1],m=Object(i.g)(),O=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ve(f);case 4:t=e.sent,m.push("/boards/".concat(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{onClick:function(e){a(e.target),l(!o)},children:Object(w.jsx)("button",{className:"add-board-btn",children:Object(w.jsx)(Ne.a,{})})}),Object(w.jsx)(q.a,{open:o,anchorEl:n,children:Object(w.jsx)(G.a,{onClickAway:function(){return l(!1)},children:Object(w.jsxs)(M.a,{children:[Object(w.jsx)("input",{type:"text",value:f,onChange:function(e){e.preventDefault(),h(e.target.value)},className:"add-board-input",autoFocus:!0,onKeyUp:function(e){"Enter"===e.key&&O()}}),Object(w.jsx)("button",{className:"create-board-btn",onClick:O,children:"Create"})]})})})]})}),ke=(n(168),function(e){var t=e.id,n=Object(le.a)(["getAllBoards",t],(function(){return function(e){return de.apply(this,arguments)}(t)})).data;return Object(w.jsxs)("div",{className:"user-page",children:[Object(w.jsxs)("header",{className:"user-page-header",children:[Object(w.jsx)("h2",{children:"My boards"}),Object(w.jsx)(ye,{})]}),Object(w.jsx)("div",{className:"boards-list",children:null===n||void 0===n?void 0:n.map((function(e){var t=e.title,n=e._id,r=e.users;return Object(w.jsx)(be,{title:t,id:n,users:r},n)}))})]})}),Ce=n(32),Se=(n(169),function(){var e=Object(o.c)(_),t=Object(u.a)(e,2)[1],n=r.useState({email:"",password:""}),a=Object(u.a)(n,2),c=a[0],s=a[1],i=c.email,l=c.password,d=C().error;r.useEffect((function(){d&&t({isOpen:!0,message:d,severity:"error"})}),[d,t]);var j=function(e){var t=e.target,n=t.value,r=t.name;s(Object(x.a)(Object(x.a)({},c),{},Object(Ce.a)({},r,n)))},b=S(),p=function(e){e.preventDefault(),h(b,c)};return Object(w.jsx)("div",{className:"form-container",children:Object(w.jsxs)("form",{"data-testid":"form",className:"signin-form",onSubmit:p,autoComplete:"off",children:[Object(w.jsx)("h3",{children:"Sign in"}),Object(w.jsxs)("div",{className:"form-field",children:[Object(w.jsx)("label",{htmlFor:"email",className:"label",children:"Email"}),Object(w.jsx)("input",{"aria-label":"email-input",id:"email",type:"email",name:"email",required:!0,value:i,onChange:j,autoComplete:"off",className:"input",placeholder:"Enter email"})]}),Object(w.jsxs)("div",{className:"form-field",children:[Object(w.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),Object(w.jsx)("input",{"aria-label":"password-input",id:"password",type:"password",name:"password",required:!0,value:l,onChange:j,className:"input",placeholder:"Enter password"})]}),Object(w.jsx)("button",{className:"button btn-blue",onClick:p,children:"Sign In"}),Object(w.jsx)("p",{children:"For testing, you can use: john@gmail.com / 12345678"})]})})}),Ee=function(){var e=S(),t=r.useState({name:"",email:"",password:"",confirmPassword:""}),n=Object(u.a)(t,2),a=n[0],c=n[1],s=a.name,i=a.email,o=a.password,l=a.confirmPassword,b=function(e){var t=e.target,n=t.value,r=t.name;c(Object(x.a)(Object(x.a)({},a),{},Object(Ce.a)({},r,n)))},p=function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),o===l){t.next=3;break}return t.abrupt("return",alert("Passwords do not match"));case 3:return t.abrupt("return",O(a,e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"form-container",children:Object(w.jsxs)("form",{"data-testid":"form",className:"signin-form",onSubmit:p,autoComplete:"off",children:[Object(w.jsx)("h3",{children:"Register"}),Object(w.jsxs)("div",{className:"form-field",children:[Object(w.jsx)("label",{htmlFor:"name",className:"label",children:"Name"}),Object(w.jsx)("input",{"aria-label":"name-input",id:"name",type:"text",name:"name",required:!0,value:s,onChange:b,autoComplete:"off",className:"input",placeholder:"Enter name"})]}),Object(w.jsxs)("div",{className:"form-field",children:[Object(w.jsx)("label",{htmlFor:"email",className:"label",children:"Email"}),Object(w.jsx)("input",{"aria-label":"email-input",id:"email",type:"email",name:"email",required:!0,value:i,onChange:b,autoComplete:"off",className:"input",placeholder:"Enter email"})]}),Object(w.jsxs)("div",{className:"form-field",children:[Object(w.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),Object(w.jsx)("input",{"aria-label":"password-input",id:"password",type:"password",name:"password",required:!0,value:o,onChange:b,className:"input",placeholder:"Enter password",minLength:8})]}),Object(w.jsxs)("div",{className:"form-field",children:[Object(w.jsx)("label",{htmlFor:"confirmPassword",className:"label",children:"Password"}),Object(w.jsx)("input",{"aria-label":"confirmPassword-input",id:"confirmPassword",type:"password",name:"confirmPassword",required:!0,value:l,onChange:b,className:"input",placeholder:"Confirm password",minLength:8})]}),Object(w.jsx)("button",{className:"button btn-blue",onClick:p,children:"Register"})]})})},_e=(n(170),function(){var e=r.useState(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(w.jsxs)("div",{className:"login-page",children:[n?Object(w.jsx)(Ee,{}):Object(w.jsx)(Se,{}),Object(w.jsxs)("p",{children:["Want to ",n?"login":"register"," ?"," ",Object(w.jsx)("span",{onClick:function(){return a(!n)},children:"Click here"})]})]})}),De=n(217),Fe=Object(D.a)({root:{color:"#2f80ed"}}),Pe=function(e){var t=Object.assign({},e),n=Fe();return Object(w.jsx)(De.a,Object(x.a)({className:n.root},t))},Re=(n(171),function(){return Object(w.jsxs)("div",{className:"spinner-container",children:[Object(w.jsx)(Pe,{size:50}),Object(w.jsx)("p",{className:"spinner-text",children:"Waking server... This will take a few moments"})]})}),Le=function(){var e=C(),t=e.loading,n=e.userDetails.id;return t?Object(w.jsx)(Re,{}):n?Object(w.jsx)(ke,{id:n}):Object(w.jsx)(_e,{})},Ae=n(39),Ie=n(218),Te=n(99),Ue=n.n(Te),We=(n(172),function(e){var t=e.user,n=Object(o.c)(_),r=Object(u.a)(n,2)[1],a=Object(o.c)(E),c=Object(u.a)(a,2),s=c[0],i=c[1],l=t._id,d=t.name;return Object(w.jsxs)("div",{className:"user-list-item",onClick:function(){if(null===s||void 0===s?void 0:s.users.find((function(e){return e._id===t._id})))return r({isOpen:!0,message:"".concat(t.name," is already a part of the board"),severity:"info"});r({isOpen:!0,message:"User added",severity:"success"});var e=Object(x.a)({},s);e.users.push(t),i(e),he(s._id,l)},children:[Object(w.jsx)(je,{userId:l,name:d}),Object(w.jsx)("p",{children:d})]})}),He=(n(173),function(e){var t=e.users;return e.isLoading?Object(w.jsx)("div",{className:"user-spinner",children:Object(w.jsx)(Pe,{size:30})}):Object(w.jsx)("div",{className:"users-list",children:t.length?t.map((function(e){return Object(w.jsx)(We,{user:e},e._id)})):Object(w.jsx)("p",{className:"no-users",children:"No users found"})})}),Be=(n(174),function(e){var t=e.closePopper,n=r.useState(""),a=Object(u.a)(n,2),c=a[0],s=a[1],i=r.useState([]),o=Object(u.a)(i,2),l=o[0],b=o[1],f=r.useState(!1),h=Object(u.a)(f,2),m=h[0],O=h[1];function x(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("users?user=".concat(t));case 3:return n=e.sent,r=n.data,b(r),e.abrupt("return",O(!1));case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),O(!1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}r.useEffect((function(){var e=setTimeout(x,500,c);return function(){clearTimeout(e)}}),[c]);return Object(w.jsx)(G.a,{onClickAway:function(){return t(!1)},children:Object(w.jsxs)(M.a,{children:[Object(w.jsx)("input",{type:"text",autoFocus:!0,onChange:function(e){e.preventDefault(),O(!0),s(e.target.value)},className:"search-user-input",placeholder:"search users.."}),c?Object(w.jsx)(He,{users:l,isLoading:m}):null]})})}),Ke=(n(175),function(){var e=r.useState(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],c=r.useState(),s=Object(u.a)(c,2),i=s[0],o=s[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{onClick:function(e){o(e.target),a(!n)},children:Object(w.jsx)("button",{className:"add-user-btn",children:Object(w.jsx)(Ue.a,{className:"plus-icon"})})}),Object(w.jsx)(q.a,{open:n,anchorEl:i,children:Object(w.jsx)(Be,{closePopper:a})})]})}),Me=n(100),ze=n.n(Me),Ve=(n(176),function(e){var t=e.title,n=e.users,a=e.boardId,c=Object(i.g)(),s=r.useState(!1),o=Object(u.a)(s,2),l=o[0],b=o[1],p=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(a);case 2:b(!1),c.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"board-header",children:[Object(w.jsxs)("div",{className:"board-users",children:[Object(w.jsx)("h3",{className:"board-title",children:t}),Object(w.jsxs)("div",{className:"board-users-wrapper",children:[n.map((function(e){var t=e._id,n=e.name;return Object(w.jsx)(je,{userId:t,name:n},t)})),Object(w.jsx)(Ke,{})]})]}),Object(w.jsx)("div",{className:"board-options",children:Object(w.jsxs)("button",{className:"delete-board",onClick:function(){return b(!0)},children:[Object(w.jsx)(ze.a,{fontSize:"small"}),Object(w.jsx)("p",{children:"Delete board"})]})}),Object(w.jsx)(Ie.a,{open:l,onClose:function(){return b(!1)},children:Object(w.jsxs)("div",{className:"delete-board-dialog",children:[Object(w.jsxs)("div",{className:"dialog-text",children:[Object(w.jsx)("h3",{children:"Are you sure ?"}),Object(w.jsx)("p",{children:"This is a definitive action"})]}),Object(w.jsxs)("div",{className:"dialog-buttons",children:[Object(w.jsx)("button",{className:"button btn-grey",onClick:function(){return b(!1)},children:"Cancel"}),Object(w.jsx)("button",{className:"button btn-danger",onClick:p,children:"Delete"})]})]})})]})}),qe=(n(177),function(e){var t=e.id,n=e.type,a=e.addFunction,c=r.useState(!1),s=Object(u.a)(c,2),i=s[0],o=s[1],l=r.useState(""),b=Object(u.a)(l,2),p=b[0],f=b[1],h=function(){var e=Object(j.a)(d.a.mark((function e(r){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),p.length){e.next=3;break}return e.abrupt("return",o(!1));case 3:return e.next=5,pe(n,t,p);case 5:c=e.sent,a(n,p,c,t),o(!1),f("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i?Object(w.jsx)(G.a,{onClickAway:h,children:Object(w.jsx)("form",{onSubmit:h,children:Object(w.jsx)("input",{type:"text",className:"column"===n?"add-column-form":"add-card-form",autoFocus:!0,value:p,onChange:function(e){return f(e.target.value)}})})}):Object(w.jsxs)("div",{className:"add-btn ".concat("column"===n?"add-column":"add-card"),onClick:function(){return o(!0)},children:[Object(w.jsx)(Ne.a,{}),Object(w.jsxs)("p",{className:"add-text",children:["New ",n]})]})}),Ge=function(e){var t=e.children,n=e.updaterFunction,a=e.inputStyles,c=e.id,s=e.field,i=e.parentId;if(!t)throw new Error("EditableElement component must have children");var l=Object(o.c)(E),d=Object(u.a)(l,2),j=d[0],b=d[1],p=r.useState(!1),f=Object(u.a)(p,2),h=f[0],m=f[1],O=r.useState(t.props.children),v=Object(u.a)(O,2),g=v[0],N=v[1],y=function(){if(m(!1),g!==t.props.children){if("title"===s&&i){var e,r=Object(x.a)({},j);(null===(e=r.columns.find((function(e){return e._id===i})))||void 0===e?void 0:e.cards.find((function(e){return e._id===c}))).title=g,b(r)}n(g,c,s)}};return h?Object(w.jsx)(G.a,{onClickAway:y,children:Object(w.jsx)("textarea",{value:g,onChange:function(e){e.preventDefault(),N(e.target.value)},className:t.props.className,style:a,autoFocus:!0,onKeyUp:function(e){"Enter"===e.key&&y()}})}):Object(w.jsx)(w.Fragment,{children:r.cloneElement(t,Object(x.a)(Object(x.a)({},t.props),{},{onClick:function(){m(!0)},children:g}))})},Je=n(104),Ye=n.n(Je),Xe=n(105),Qe=n.n(Xe),Ze=n(106),$e=n.n(Ze),et=n(102),tt=n.n(et),nt=n(103),rt=n.n(nt),at=n(101),ct=n.n(at),st=(n(178),function(e){var t=e.card,n=e.isModalOpen,r=e.closeModal,a=C().userDetails,c=a.id,s=a.name,i=t.title,o=t.description,u=t._id,l=t.column;return Object(w.jsx)(Ie.a,{open:n,onClose:r,className:"card-modal",maxWidth:!1,children:Object(w.jsxs)("main",{className:"card",children:[Object(w.jsx)("section",{className:"upper-container",children:Object(w.jsxs)("div",{className:"card-header",children:[Object(w.jsx)(ct.a,{}),Object(w.jsx)(Ge,{updaterFunction:fe,id:u,field:"title",inputStyles:{resize:"none",margin:"21px 20px",border:"none",width:"60%",height:"28px",fontFamily:"inherit",fontSize:"24px",padding:"5px 5px",overflow:"hidden",fontWeight:700,outline:"1px solid #2f80ed",cursor:"text"},parentId:l,children:Object(w.jsx)("h2",{children:i})})]})}),Object(w.jsxs)("section",{className:"lower-container",children:[Object(w.jsxs)("div",{className:"card-details",children:[Object(w.jsxs)("div",{className:"card-description-container",children:[Object(w.jsxs)("div",{className:"card-header",children:[Object(w.jsx)(tt.a,{}),Object(w.jsx)("h3",{children:"Description"})]}),Object(w.jsx)(Ge,{updaterFunction:fe,inputStyles:{background:"#fff",height:108,outline:"1px solid #2f80ed",borderRadius:"5px",cursor:"text"},id:u,field:"description",children:Object(w.jsx)("p",{className:"card-description",children:o||"Add a more detailed description..."})})]}),Object(w.jsxs)("div",{className:"card-activity",children:[Object(w.jsxs)("div",{className:"card-header",children:[Object(w.jsx)(rt.a,{}),Object(w.jsx)("h3",{children:"Activity"})]}),Object(w.jsxs)("div",{className:"card-header",children:[Object(w.jsx)(je,{name:s,userId:c,style:{width:"35px",height:"35px",marginLeft:"-5px"}}),Object(w.jsx)("textarea",{placeholder:"Write a comment...",className:"comment-input"})]})]})]}),Object(w.jsxs)("aside",{className:"card-functions",children:[Object(w.jsx)("h3",{children:"Add to card"}),Object(w.jsxs)("div",{className:"card-btn-container",children:[Object(w.jsxs)("button",{className:"card-function-btn",children:[Object(w.jsx)(Ye.a,{fontSize:"small"}),Object(w.jsx)("p",{children:"Members"})]}),Object(w.jsxs)("button",{className:"card-function-btn",children:[Object(w.jsx)(Qe.a,{fontSize:"small"}),Object(w.jsx)("p",{children:"Labels"})]}),Object(w.jsxs)("button",{className:"card-function-btn",children:[Object(w.jsx)($e.a,{fontSize:"small"}),Object(w.jsx)("p",{children:"Attachment"})]})]})]})]})]})})}),it=(n(179),function(e){var t=e.card,n=e.index,a=r.useState(!1),c=Object(u.a)(a,2),s=c[0],i=c[1];return Object(w.jsx)(Ae.b,{draggableId:t._id,index:n,children:function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("article",Object(x.a)(Object(x.a)(Object(x.a)({className:"card-thumbnail",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{onClick:function(){return i(!0)},children:Object(w.jsx)("p",{className:"card-thumbnail-content",children:t.title})})),Object(w.jsx)(st,{card:t,isModalOpen:s,closeModal:function(){return i(!1)}})]})}})}),ot=(n(182),function(e){var t=e.title,n=e.columnId,a=r.useState(!1),c=Object(u.a)(a,2),s=c[0],i=c[1],o=r.useState(t),l=Object(u.a)(o,2),b=l[0],f=l[1],h=function(){var e=Object(j.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!1),b===t){e.next=12;break}return e.prev=2,r="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL_DEV:"http://localhost:5000/api"}).REACT_APP_SERVER_URL,"/columns/").concat(n,"/title"),e.next=6,p.a.patch(r,{title:b},{withCredentials:!0});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),f(t);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return s?Object(w.jsx)(G.a,{onClickAway:h,children:Object(w.jsx)("input",{type:"text",value:b,onChange:function(e){e.preventDefault(),f(e.target.value)},className:"column-title",autoFocus:!0,onKeyUp:function(e){"Enter"===e.key&&h()}})}):Object(w.jsx)("h2",{onClick:function(){return i(!0)},className:"column-title",children:b})}),ut=n(109),lt=n.n(ut),dt=(n(183),function(e){var t=e.title,n=e.columnId,r=e.cards,a=Object(o.c)(E),c=Object(u.a)(a,2),s=c[0],i=c[1],l=function(){if(s){var e=Object(x.a)({},s),t=e.columns.findIndex((function(e){return e._id===n}));e.columns.splice(t,1),i(e),xe(n)}};return Object(w.jsx)(Ae.c,{droppableId:n,type:"cards",children:function(e){return Object(w.jsxs)("section",Object(x.a)(Object(x.a)({className:"column"},e.droppableProps),{},{ref:e.innerRef,children:[Object(w.jsxs)("header",{className:"column-title-container",children:[Object(w.jsx)(ot,{title:t,columnId:n}),Object(w.jsx)(lt.a,{className:"menu-icon",fontSize:"small",onClick:l})]}),r.map((function(e,t){return Object(w.jsx)(it,{card:e,index:t},e._id)})),e.placeholder]}))}})}),jt=(n(184),function(e){var t=e.columns,n=e.addCard;return Object(w.jsx)(w.Fragment,{children:t.map((function(e,t){var r=e.title,a=e._id,c=e.cards;return Object(w.jsx)(Ae.b,{draggableId:a,index:t,children:function(e){return Object(w.jsxs)("div",Object(x.a)(Object(x.a)(Object(x.a)({className:"column"},e.draggableProps),{},{ref:e.innerRef},e.dragHandleProps),{},{children:[Object(w.jsx)(dt,{title:r,columnId:a,cards:c}),Object(w.jsx)(qe,{id:a,type:"card",addFunction:n})]}))}},a)}))})}),bt=(n(185),function(){var e=Object(i.h)().boardId,t=function(e){var t=Object(o.c)(E),n=Object(u.a)(t,2),r=n[0],c=n[1],s=a.a.useCallback(Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.get("/boards/".concat(e));case 3:n=t.sent,c(n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[c,e]);return a.a.useEffect((function(){return s(),function(){c(void 0)}}),[s,c]),{board:r,setBoard:c}}(e),n=t.board,r=t.setBoard,c=function(e,t,a,c){var s=Object(x.a)({},n);if("card"===e){var i=s.columns.find((function(e){return e._id===c}));null===i||void 0===i||i.cards.push({title:t,column:"",comments:[],labels:[],attachments:[],_id:a})}return"column"===e&&s.columns.push({title:t,cards:[],board:"",_id:a}),r(s)},s=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,c,s,i,o,l,j,b,p,f,h,m,O;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.source,c=t.destination,s=t.draggableId,i=t.type,c){e.next=3;break}return e.abrupt("return");case 3:if(o=Object(x.a)({},n),"column"!==i){e.next=9;break}return l=o.columns.splice(a.index,1),j=Object(u.a)(l,1),b=j[0],o.columns.splice(c.index,0,b),r(o),e.abrupt("return",Oe(o._id,b._id,c.index));case 9:return p=o.columns.find((function(e){return e._id===a.droppableId})),f=o.columns.find((function(e){return e._id===c.droppableId})),h=p.cards.splice(a.index,1),m=Object(u.a)(h,1),O=m[0],f.cards.splice(c.index,0,O),r(o),e.abrupt("return",me(a.droppableId,s,c));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?Object(w.jsxs)("main",{className:"board-page",children:[Object(w.jsx)(Ve,{title:n.title,users:n.users,boardId:n._id}),Object(w.jsx)(Ae.a,{onDragEnd:s,children:Object(w.jsx)(Ae.c,{droppableId:"all-columns",direction:"horizontal",type:"column",children:function(t){return Object(w.jsxs)("div",Object(x.a)(Object(x.a)({className:"columns"},t.droppableProps),{},{ref:t.innerRef,children:[Object(w.jsx)(jt,{addCard:c,columns:n.columns}),t.placeholder,Object(w.jsx)(qe,{id:e,type:"column",addFunction:c})]}))}})})]}):Object(w.jsx)(w.Fragment,{})}),pt=(n(186),function(){var e=r.useState(),t=Object(u.a)(e,2),n=t[0],a=t[1],c=function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=new FormData,n){e.next=4;break}return e.abrupt("return",alert("Please select a picture"));case 4:return r.append("attachment",n),e.prev=5,e.next=8,p.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL_DEV:"http://localhost:5000/api"}).REACT_APP_SERVER_URL,"/users/profile/add"),r,{withCredentials:!0});case 8:a(void 0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"image-upload",children:[Object(w.jsx)("p",{children:"Change profile picture"}),Object(w.jsxs)("form",{className:"picture-form",onSubmit:c,children:[Object(w.jsxs)("label",{htmlFor:"img",className:"picture-input-label",children:[" ",Object(w.jsx)("img",{src:n?URL.createObjectURL(n):"https://www.doctorlasercursos.com.br/uploads/avatars/2016/06/empty-avatar.jpg",alt:"uploaded",height:80,width:80})]}),Object(w.jsx)("input",{type:"file",onChange:function(e){e.target.files&&a(e.target.files[0])},id:"img",className:"picture-input"}),Object(w.jsx)("button",{onClick:c,className:"upload-button",children:"Upload"})]})]})}),ft=(n(187),function(){var e=C().userDetails,t=e.name,n=e.email,a=r.useState({name:t,email:n}),c=Object(u.a)(a,2),s=c[0],i=c[1],o=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;i(Object(x.a)(Object(x.a)({},s),{},Object(Ce.a)({},n,r)))},l=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"profile-page",children:[Object(w.jsxs)("form",{onSubmit:l,className:"signin-form",children:[Object(w.jsxs)("div",{className:"form-field",children:[Object(w.jsx)("label",{htmlFor:"name",className:"label",children:"Name:"}),Object(w.jsx)("input",{type:"text",value:s.name,name:"name",onChange:o,className:"input"})]}),Object(w.jsxs)("div",{className:"form-field",children:[Object(w.jsx)("label",{htmlFor:"email",className:"label",children:"Email:"}),Object(w.jsx)("input",{type:"text",value:s.email,name:"email",onChange:o,className:"input"})]}),Object(w.jsx)("button",{type:"submit",className:"button btn-blue",children:"Save changes"})]}),Object(w.jsx)(pt,{})]})}),ht=(n(188),function(){return function(e){var t=a.a.useState(!0),n=Object(u.a)(t,2),r=n[0],c=n[1],s=a.a.useCallback(Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.get("/users/session");case 3:if(!(n=t.sent).data){t.next=7;break}return e({type:"Login success",payload:n.data}),t.abrupt("return",c(!1));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),e({type:"Login fail",payload:t.t0}),t.abrupt("return",c(!1));case 13:c(!1);case 14:case"end":return t.stop()}}),t,null,[[0,9]])}))),[e]);return a.a.useEffect((function(){s()}),[s]),{isLoading:r}}(S()).isLoading?null:Object(w.jsx)(o.a,{children:Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(oe,{}),Object(w.jsx)(H,{children:Object(w.jsxs)(i.d,{children:[Object(w.jsx)(i.b,{path:"/",exact:!0,component:Le}),Object(w.jsx)(ue,{component:bt,path:"/boards/:boardId",exact:!0}),Object(w.jsx)(ue,{path:"/profile",exact:!0,component:ft})]})}),Object(w.jsx)(A,{})]})})});n(189);s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(B.a,{basename:"",children:Object(w.jsx)(k,{children:Object(w.jsx)(ht,{})})})}),document.getElementById("root"))}},[[190,1,2]]]);
//# sourceMappingURL=main.f92f1c6e.chunk.js.map