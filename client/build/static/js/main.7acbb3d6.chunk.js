(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{158:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(11),i=n.n(s),o=n(18),u=n(20),l=n(3),d=n(4),j=n.n(d),b=n(7),p=n(8),f=n.n(p);f.a.defaults.withCredentials=!0,f.a.defaults.baseURL="/api";var h=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"Login start"}),e.prev=1,e.next=4,f.a.post("users/signin",n);case 4:if(200!==(r=e.sent).status){e.next=8;break}return t({type:"Login success",payload:r.data.user}),e.abrupt("return",r.data.user);case 8:if(400!==r.status){e.next=10;break}return e.abrupt("return",t({type:"Login fail",payload:r.data}));case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(1),console.error(e.t0),t({type:"Login fail",payload:e.t0}),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/users/logout",{});case 3:200===e.sent.status&&t({type:"Logout"}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/users/register",t);case 3:if(200!==(r=e.sent).status){e.next=7;break}return n({type:"Login success",payload:r.data.user}),e.abrupt("return",r.data.user);case 7:r.data.errors&&n({type:"Login fail",payload:r.data.errors}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),n({type:"Login fail",payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),x=n(6),v={userDetails:{name:"",id:"",email:""},error:null,loading:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Login start":return Object(x.a)(Object(x.a)({},e),{},{loading:!0});case"Login success":return Object(x.a)(Object(x.a)({},e),{},{userDetails:t.payload,loading:!1});case"Login fail":return Object(x.a)(Object(x.a)({},e),{},{error:t.payload,loading:!1});case"Logout":return Object(x.a)(Object(x.a)({},e),{},{userDetails:{name:"",id:"",email:""},loading:!1});default:return e}},w=a.createContext(void 0),y=a.createContext(void 0),N=function(e){var t=e.children,n=a.useReducer(g,v),c=Object(l.a)(n,2),s=c[0],i=c[1];return Object(r.jsx)(w.Provider,{value:s,children:Object(r.jsx)(y.Provider,{value:i,children:t})})};function k(){var e=a.useContext(w);if(void 0===e)throw new Error("useAuthState must be used within an AuthProvider");return e}function C(){var e=a.useContext(y);if(void 0===e)throw new Error("useAuthDispatch must be used within an AuthProvider");return e}var S=Object(u.b)(void 0),F=Object(u.b)({isOpen:!1,message:"",severity:"success"}),E=n(90),L=n(215),D=n(97),I=n.n(D),P=Object(E.a)({root:{fontFamily:"inherit"}}),_=function(){var e=Object(u.c)(F),t=Object(l.a)(e,2),n=t[0],a=n.isOpen,c=n.message,s=n.severity,i=t[1],o=P();return Object(r.jsx)(L.a,{open:a,autoHideDuration:1500,onClose:function(){i({isOpen:!1,message:c,severity:s})},children:Object(r.jsx)(I.a,{severity:s,variant:"filled",className:o.root,children:c})})},R=n(98),U=n(99),A=n(115),M=n(113),z=function(e){Object(A.a)(n,e);var t=Object(M.a)(n);function n(e){var r;return Object(R.a)(this,n),(r=t.call(this,e)).state={hasError:!1,error:void 0},r}return Object(U.a)(n,[{key:"render",value:function(){return this.state.hasError&&this.state.error?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:"Oh nooon, something went wrong :("}),Object(r.jsx)("p",{children:this.state.error})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(a.Component),H=n(23);function W(e){var t=c.a.useState(),n=Object(l.a)(t,2),r=n[0],a=n[1],s=c.a.useCallback(Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/users/profile/".concat(e),{responseType:"blob"});case 3:return n=t.sent,t.abrupt("return",a(URL.createObjectURL(n.data)));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",console.error(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[a,e]);return c.a.useEffect((function(){s()}),[s]),{pictureUrl:r}}f.a.defaults.withCredentials=!0,f.a.defaults.baseURL="http://localhost:5000/api";var q=n(74),B=n(216),T=(n(158),function(e){var t=e.handleLogout,n=e.avatarURL,a=e.setIsOpen,c=k().userDetails,s=c.name,i=c.email;return Object(r.jsxs)(q.a,{className:"user-dropdown",children:[Object(r.jsxs)("div",{className:"user-info",children:[Object(r.jsx)(B.a,{src:n,children:s.split("")[0]}),Object(r.jsxs)("div",{className:"name-email",children:[Object(r.jsx)("p",{children:s}),Object(r.jsx)("p",{className:"user-email",children:i})]})]}),Object(r.jsx)(H.b,{to:"/",className:"link",onClick:function(){return a(!1)},children:Object(r.jsx)("div",{className:"dropdown-item",children:"Dashboard"})}),Object(r.jsx)(H.b,{to:"/profile",className:"link",onClick:function(){return a(!1)},children:Object(r.jsx)("div",{className:"dropdown-item",children:"Profile"})}),Object(r.jsx)("div",{className:"dropdown-item logout",onClick:t,children:"Logout"})]})}),G=n(211),K=n(209),J=(n(160),function(e){var t=e.name,n=a.useState(!1),c=Object(l.a)(n,2),s=c[0],i=c[1],u=a.useState(),d=Object(l.a)(u,2),p=d[0],f=d[1],h=Object(o.g)(),O=W(k().userDetails.id).pictureUrl,x=C(),v=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m(x);case 3:h.push("/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(K.a,{onClickAway:function(){return i(!1)},children:Object(r.jsxs)("div",{className:"user-header",children:[Object(r.jsx)(B.a,{src:O,className:"avatar",alt:t,"aria-haspopup":"true",onClick:function(e){f(e.target),i(!s)},children:t.split("")[0].toUpperCase()}),Object(r.jsx)(G.a,{open:s,anchorEl:p,"data-testid":"dropdown",children:Object(r.jsx)(T,{handleLogout:v,avatarURL:O,setIsOpen:i})})]})})}),Y=n(101),V=n.n(Y),X=(n(161),function(){return Object(r.jsxs)("div",{className:"searchbar",children:[Object(r.jsx)("input",{type:"text",placeholder:"search...",className:"search-input"}),Object(r.jsx)("button",{className:"search-btn",children:Object(r.jsx)(V.a,{fontSize:"small"})})]})}),Q=n(212);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ee=a.createElement("defs",null,a.createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"a"},a.createElement("stop",{stopColor:"#F8F8F8",offset:"0%"}),a.createElement("stop",{stopColor:"#F8F8F8",offset:"100%"}))),te=a.createElement("rect",{fill:"url(#a)",width:256,height:256,rx:25}),ne=a.createElement("rect",{fill:"#2f80ed",x:144.64,y:33.28,width:78.08,height:112,rx:12}),re=a.createElement("rect",{fill:"#2f80ed",x:33.28,y:33.28,width:78.08,height:176,rx:12});function ae(e,t){var n=e.title,r=e.titleId,c=$(e,["title","titleId"]);return a.createElement("svg",Z({width:40,height:40,viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,ee,te,ne,re)}var ce=a.forwardRef(ae),se=(n.p,n(162),{background:"#F8F8F8",minHeight:60,maxHeight:60}),ie=function(){var e=k().userDetails,t=e.id,n=e.name;return Object(r.jsx)(Q.a,{position:"static",style:se,children:Object(r.jsxs)("header",{className:"header",children:[Object(r.jsxs)(H.b,{to:"/",className:"title-container",children:[Object(r.jsx)(ce,{style:{width:30}}),Object(r.jsx)("h3",{className:"main-title",children:"React-Trello"})]}),t?Object(r.jsxs)("nav",{className:"nav",children:[Object(r.jsx)(X,{}),Object(r.jsx)(J,{name:n})]}):null]})})},oe=function(e){var t=Object.assign({},e);return k().userDetails.id?Object(r.jsx)(o.b,Object(x.a)({},t)):Object(r.jsx)(o.a,{to:"/"})},ue=n(112);function le(){return(le=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/users/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}f.a.defaults.withCredentials=!0,f.a.defaults.baseURL="/api";n(163);var de=function(e){var t=e.userId,n=e.name,a=e.style,c=W(t).pictureUrl;return Object(r.jsx)(B.a,{src:c,alt:"user",style:a,children:n.split("")[0].toUpperCase()})},je=(n(164),function(e){var t=e.title,n=e.id,a=e.users;return Object(r.jsxs)(H.b,{to:"/boards/".concat(n),className:"board-thumbnail",children:[Object(r.jsx)("img",{alt:"board",width:"250",height:"150",src:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=752&q=80"}),Object(r.jsx)("p",{children:t}),Object(r.jsx)("div",{className:"board-thumbnail-users",children:a.map((function(e){var t=e.name,n=e._id;return Object(r.jsx)(de,{userId:n,name:t},n)}))})]})});f.a.defaults.withCredentials=!0,f.a.defaults.baseURL="/api";var be=function(){var e=Object(b.a)(j.a.mark((function e(t,n,r){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="column"===e.t0?3:"card"===e.t0?13:23;break;case 3:return e.prev=3,e.next=6,f.a.patch("/boards/".concat(n,"/column/add"),{title:r});case 6:return a=e.sent,e.abrupt("return",a.data);case 10:return e.prev=10,e.t1=e.catch(3),e.abrupt("return",e.t1);case 13:return e.prev=13,e.next=16,f.a.patch("/columns/".concat(n,"/card/add"),{title:r});case 16:return c=e.sent,e.abrupt("return",c.data);case 20:return e.prev=20,e.t2=e.catch(13),e.abrupt("return",e.t2);case 23:return e.abrupt("return");case 24:case"end":return e.stop()}}),e,null,[[3,10],[13,20]])})));return function(t,n,r){return e.apply(this,arguments)}}(),pe=function(){var e=Object(b.a)(j.a.mark((function e(t,n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.patch("/cards/".concat(n,"/").concat(r,"/update"),{text:t},{withCredentials:!0});case 3:return e.abrupt("return");case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),fe=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.patch("/boards/".concat(t,"/user/").concat(n,"/add"),{withCredentials:!0});case 3:return e.abrupt("return");case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(b.a)(j.a.mark((function e(t,n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.patch("/columns/drag/".concat(t,"/").concat(n),r);case 3:200===e.sent.status&&console.log("success"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),me=function(){var e=Object(b.a)(j.a.mark((function e(t,n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.patch("/boards/".concat(t,"/drag/").concat(n,"/").concat(r));case 3:if(200!==e.sent.status){e.next=6;break}return e.abrupt("return",console.log("success"));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/columns/".concat(t,"/delete"));case 3:if(200!==e.sent.status){e.next=6;break}return e.abrupt("return",console.log("success"));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("/boards/",{title:t});case 3:if(200!==(n=e.sent).status){e.next=6;break}return e.abrupt("return",n.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/boards/".concat(t));case 3:if(200!==e.sent.status){e.next=6;break}return e.abrupt("return",console.log("success"));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ge=n(69),we=n.n(ge),ye=(n(165),function(){var e=a.useState(),t=Object(l.a)(e,2),n=t[0],c=t[1],s=a.useState(!1),i=Object(l.a)(s,2),u=i[0],d=i[1],p=a.useState(""),f=Object(l.a)(p,2),h=f[0],m=f[1],O=Object(o.g)(),x=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,xe(h);case 4:t=e.sent,O.push("/boards/".concat(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{onClick:function(e){c(e.target),d(!u)},children:Object(r.jsx)("button",{className:"add-board-btn",children:Object(r.jsx)(we.a,{})})}),Object(r.jsx)(G.a,{open:u,anchorEl:n,children:Object(r.jsx)(K.a,{onClickAway:function(){return d(!1)},children:Object(r.jsxs)(q.a,{children:[Object(r.jsx)("input",{type:"text",value:h,onChange:function(e){e.preventDefault(),m(e.target.value)},className:"add-board-input",autoFocus:!0,onKeyUp:function(e){"Enter"===e.key&&x()}}),Object(r.jsx)("button",{className:"create-board-btn",onClick:x,children:"Create"})]})})})]})}),Ne=(n(166),function(e){var t=e.id,n=Object(ue.a)(["getAllBoards",t],(function(){return function(e){return le.apply(this,arguments)}(t)})).data;return Object(r.jsxs)("div",{className:"user-page",children:[Object(r.jsxs)("header",{className:"user-page-header",children:[Object(r.jsx)("h2",{children:"My boards"}),Object(r.jsx)(ye,{})]}),Object(r.jsx)("div",{className:"boards-list",children:null===n||void 0===n?void 0:n.map((function(e){var t=e.title,n=e._id,a=e.users;return Object(r.jsx)(je,{title:t,id:n,users:a},n)}))})]})}),ke=n(32),Ce=(n(167),function(){var e=Object(u.c)(F),t=Object(l.a)(e,2)[1],n=a.useState({email:"",password:""}),c=Object(l.a)(n,2),s=c[0],i=c[1],o=s.email,d=s.password,p=function(e){var t=e.target,n=t.value,r=t.name;i(Object(x.a)(Object(x.a)({},s),{},Object(ke.a)({},r,n)))},f=C(),m=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,h(f,s);case 3:"Wrong credentials"===e.sent&&t({isOpen:!0,message:"Wrong credentials",severity:"error"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"form-container",children:Object(r.jsxs)("form",{"data-testid":"form",className:"signin-form",onSubmit:m,autoComplete:"off",children:[Object(r.jsx)("h3",{children:"Sign in"}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"email",className:"label",children:"Email"}),Object(r.jsx)("input",{"aria-label":"email-input",id:"email",type:"email",name:"email",required:!0,value:o,onChange:p,autoComplete:"off",className:"input",placeholder:"Enter email"})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),Object(r.jsx)("input",{"aria-label":"password-input",id:"password",type:"password",name:"password",required:!0,value:d,onChange:p,className:"input",placeholder:"Enter password"})]}),Object(r.jsx)("button",{className:"button btn-blue",onClick:m,children:"Sign In"}),Object(r.jsx)("p",{children:"For testing, you can use: john@gmail.com / 12345678"})]})})}),Se=function(){var e=C(),t=a.useState({name:"",email:"",password:"",confirmPassword:""}),n=Object(l.a)(t,2),c=n[0],s=n[1],i=c.name,o=c.email,u=c.password,d=c.confirmPassword,p=function(e){var t=e.target,n=t.value,r=t.name;s(Object(x.a)(Object(x.a)({},c),{},Object(ke.a)({},r,n)))},f=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),u===d){t.next=3;break}return t.abrupt("return",alert("Passwords do not match"));case 3:return t.abrupt("return",O(c,e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"form-container",children:Object(r.jsxs)("form",{"data-testid":"form",className:"signin-form",onSubmit:f,autoComplete:"off",children:[Object(r.jsx)("h3",{children:"Register"}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"name",className:"label",children:"Name"}),Object(r.jsx)("input",{"aria-label":"name-input",id:"name",type:"text",name:"name",required:!0,value:i,onChange:p,autoComplete:"off",className:"input",placeholder:"Enter name"})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"email",className:"label",children:"Email"}),Object(r.jsx)("input",{"aria-label":"email-input",id:"email",type:"email",name:"email",required:!0,value:o,onChange:p,autoComplete:"off",className:"input",placeholder:"Enter email"})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),Object(r.jsx)("input",{"aria-label":"password-input",id:"password",type:"password",name:"password",required:!0,value:u,onChange:p,className:"input",placeholder:"Enter password",minLength:8})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"confirmPassword",className:"label",children:"Password"}),Object(r.jsx)("input",{"aria-label":"confirmPassword-input",id:"confirmPassword",type:"password",name:"confirmPassword",required:!0,value:d,onChange:p,className:"input",placeholder:"Confirm password",minLength:8})]}),Object(r.jsx)("button",{className:"button btn-blue",onClick:f,children:"Register"})]})})},Fe=(n(168),function(){var e=a.useState(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)("div",{className:"login-page",children:[n?Object(r.jsx)(Se,{}):Object(r.jsx)(Ce,{}),Object(r.jsxs)("p",{children:["Want to ",n?"login":"register"," ?"," ",Object(r.jsx)("span",{onClick:function(){return c(!n)},children:"Click here"})]})]})}),Ee=n(213),Le=Object(E.a)({root:{color:"#2f80ed"}}),De=function(e){var t=Object.assign({},e),n=Le();return Object(r.jsx)(Ee.a,Object(x.a)({className:n.root},t))},Ie=(n(169),function(){return Object(r.jsxs)("div",{className:"spinner-container",children:[Object(r.jsx)(De,{size:50}),Object(r.jsx)("p",{className:"spinner-text",children:"Waking server... This will take a few moments"})]})}),Pe=function(){var e=k(),t=e.loading,n=e.userDetails.id;return t?Object(r.jsx)(Ie,{}):n?Object(r.jsx)(Ne,{id:n}):Object(r.jsx)(Fe,{})},_e=n(39),Re=n(214),Ue=n(102),Ae=n.n(Ue),Me=(n(170),function(e){var t=e.user,n=Object(u.c)(F),a=Object(l.a)(n,2)[1],c=Object(u.c)(S),s=Object(l.a)(c,2),i=s[0],o=s[1],d=t._id,j=t.name;return Object(r.jsxs)("div",{className:"user-list-item",onClick:function(){if(null===i||void 0===i?void 0:i.users.find((function(e){return e._id===t._id})))return a({isOpen:!0,message:"".concat(t.name," is already a part of the board"),severity:"info"});a({isOpen:!0,message:"User added",severity:"success"});var e=Object(x.a)({},i);e.users.push(t),o(e),fe(i._id,d)},children:[Object(r.jsx)(de,{userId:d,name:j}),Object(r.jsx)("p",{children:j})]})}),ze=(n(171),function(e){var t=e.users;return e.isLoading?Object(r.jsx)("div",{className:"user-spinner",children:Object(r.jsx)(De,{size:30})}):Object(r.jsx)("div",{className:"users-list",children:t.length?t.map((function(e){return Object(r.jsx)(Me,{user:e},e._id)})):Object(r.jsx)("p",{className:"no-users",children:"No users found"})})}),He=(n(172),function(e){var t=e.closePopper,n=a.useState(""),c=Object(l.a)(n,2),s=c[0],i=c[1],o=a.useState([]),u=Object(l.a)(o,2),d=u[0],p=u[1],h=a.useState(!1),m=Object(l.a)(h,2),O=m[0],x=m[1];function v(e){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("users?user=".concat(t));case 3:return n=e.sent,r=n.data,p(r),e.abrupt("return",x(!1));case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),x(!1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}a.useEffect((function(){var e=setTimeout(v,500,s);return function(){clearTimeout(e)}}),[s]);return Object(r.jsx)(K.a,{onClickAway:function(){return t(!1)},children:Object(r.jsxs)(q.a,{children:[Object(r.jsx)("input",{type:"text",autoFocus:!0,onChange:function(e){e.preventDefault(),x(!0),i(e.target.value)},className:"search-user-input",placeholder:"search users.."}),s?Object(r.jsx)(ze,{users:d,isLoading:O}):null]})})}),We=(n(173),function(){var e=a.useState(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=a.useState(),i=Object(l.a)(s,2),o=i[0],u=i[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{onClick:function(e){u(e.target),c(!n)},children:Object(r.jsx)("button",{className:"add-user-btn",children:Object(r.jsx)(Ae.a,{className:"plus-icon"})})}),Object(r.jsx)(G.a,{open:n,anchorEl:o,children:Object(r.jsx)(He,{closePopper:c})})]})}),qe=n(103),Be=n.n(qe),Te=(n(174),function(e){var t=e.title,n=e.users,c=e.boardId,s=Object(o.g)(),i=a.useState(!1),u=Object(l.a)(i,2),d=u[0],p=u[1],f=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(c);case 2:p(!1),s.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"board-header",children:[Object(r.jsxs)("div",{className:"board-users",children:[Object(r.jsx)("h3",{className:"board-title",children:t}),Object(r.jsxs)("div",{className:"board-users-wrapper",children:[n.map((function(e){var t=e._id,n=e.name;return Object(r.jsx)(de,{userId:t,name:n},t)})),Object(r.jsx)(We,{})]})]}),Object(r.jsx)("div",{className:"board-options",children:Object(r.jsxs)("button",{className:"delete-board",onClick:function(){return p(!0)},children:[Object(r.jsx)(Be.a,{fontSize:"small"}),Object(r.jsx)("p",{children:"Delete board"})]})}),Object(r.jsx)(Re.a,{open:d,onClose:function(){return p(!1)},children:Object(r.jsxs)("div",{className:"delete-board-dialog",children:[Object(r.jsxs)("div",{className:"dialog-text",children:[Object(r.jsx)("h3",{children:"Are you sure ?"}),Object(r.jsx)("p",{children:"This is a definitive action"})]}),Object(r.jsxs)("div",{className:"dialog-buttons",children:[Object(r.jsx)("button",{className:"button btn-grey",onClick:function(){return p(!1)},children:"Cancel"}),Object(r.jsx)("button",{className:"button btn-danger",onClick:f,children:"Delete"})]})]})})]})}),Ge=(n(175),function(e){var t=e.id,n=e.type,c=e.addFunction,s=a.useState(!1),i=Object(l.a)(s,2),o=i[0],u=i[1],d=a.useState(""),p=Object(l.a)(d,2),f=p[0],h=p[1],m=function(){var e=Object(b.a)(j.a.mark((function e(r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),f.length){e.next=3;break}return e.abrupt("return",u(!1));case 3:return e.next=5,be(n,t,f);case 5:a=e.sent,c(n,f,a,t),u(!1),h("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o?Object(r.jsx)(K.a,{onClickAway:m,children:Object(r.jsx)("form",{onSubmit:m,children:Object(r.jsx)("input",{type:"text",className:"column"===n?"add-column-form":"add-card-form",autoFocus:!0,value:f,onChange:function(e){return h(e.target.value)}})})}):Object(r.jsxs)("div",{className:"add-btn ".concat("column"===n?"add-column":"add-card"),onClick:function(){return u(!0)},children:[Object(r.jsx)(we.a,{}),Object(r.jsxs)("p",{className:"add-text",children:["New ",n]})]})}),Ke=function(e){var t=e.children,n=e.updaterFunction,c=e.inputStyles,s=e.id,i=e.field,o=e.parentId;if(!t)throw new Error("EditableElement component must have children");var d=Object(u.c)(S),j=Object(l.a)(d,2),b=j[0],p=j[1],f=a.useState(!1),h=Object(l.a)(f,2),m=h[0],O=h[1],v=a.useState(t.props.children),g=Object(l.a)(v,2),w=g[0],y=g[1],N=function(){if(O(!1),w!==t.props.children){if("title"===i&&o){var e,r=Object(x.a)({},b);(null===(e=r.columns.find((function(e){return e._id===o})))||void 0===e?void 0:e.cards.find((function(e){return e._id===s}))).title=w,p(r)}n(w,s,i)}};return m?Object(r.jsx)(K.a,{onClickAway:N,children:Object(r.jsx)("textarea",{value:w,onChange:function(e){e.preventDefault(),y(e.target.value)},className:t.props.className,style:c,autoFocus:!0,onKeyUp:function(e){"Enter"===e.key&&N()}})}):Object(r.jsx)(r.Fragment,{children:a.cloneElement(t,Object(x.a)(Object(x.a)({},t.props),{},{onClick:function(){O(!0)},children:w}))})},Je=n(107),Ye=n.n(Je),Ve=n(108),Xe=n.n(Ve),Qe=n(109),Ze=n.n(Qe),$e=n(105),et=n.n($e),tt=n(106),nt=n.n(tt),rt=n(104),at=n.n(rt),ct=(n(176),function(e){var t=e.card,n=e.isModalOpen,a=e.closeModal,c=k().userDetails,s=c.id,i=c.name,o=t.title,u=t.description,l=t._id,d=t.column;return Object(r.jsx)(Re.a,{open:n,onClose:a,className:"card-modal",maxWidth:!1,children:Object(r.jsxs)("main",{className:"card",children:[Object(r.jsx)("section",{className:"upper-container",children:Object(r.jsxs)("div",{className:"card-header",children:[Object(r.jsx)(at.a,{}),Object(r.jsx)(Ke,{updaterFunction:pe,id:l,field:"title",inputStyles:{resize:"none",margin:"21px 20px",border:"none",width:"60%",height:"28px",fontFamily:"inherit",fontSize:"24px",padding:"5px 5px",overflow:"hidden",fontWeight:700,outline:"1px solid #2f80ed",cursor:"text"},parentId:d,children:Object(r.jsx)("h2",{children:o})})]})}),Object(r.jsxs)("section",{className:"lower-container",children:[Object(r.jsxs)("div",{className:"card-details",children:[Object(r.jsxs)("div",{className:"card-description-container",children:[Object(r.jsxs)("div",{className:"card-header",children:[Object(r.jsx)(et.a,{}),Object(r.jsx)("h3",{children:"Description"})]}),Object(r.jsx)(Ke,{updaterFunction:pe,inputStyles:{background:"#fff",height:108,outline:"1px solid #2f80ed",borderRadius:"5px",cursor:"text"},id:l,field:"description",children:Object(r.jsx)("p",{className:"card-description",children:u||"Add a more detailed description..."})})]}),Object(r.jsxs)("div",{className:"card-activity",children:[Object(r.jsxs)("div",{className:"card-header",children:[Object(r.jsx)(nt.a,{}),Object(r.jsx)("h3",{children:"Activity"})]}),Object(r.jsxs)("div",{className:"card-header",children:[Object(r.jsx)(de,{name:i,userId:s,style:{width:"35px",height:"35px",marginLeft:"-5px"}}),Object(r.jsx)("textarea",{placeholder:"Write a comment...",className:"comment-input"})]})]})]}),Object(r.jsxs)("aside",{className:"card-functions",children:[Object(r.jsx)("h3",{children:"Add to card"}),Object(r.jsxs)("div",{className:"card-btn-container",children:[Object(r.jsxs)("button",{className:"card-function-btn",children:[Object(r.jsx)(Ye.a,{fontSize:"small"}),Object(r.jsx)("p",{children:"Members"})]}),Object(r.jsxs)("button",{className:"card-function-btn",children:[Object(r.jsx)(Xe.a,{fontSize:"small"}),Object(r.jsx)("p",{children:"Labels"})]}),Object(r.jsxs)("button",{className:"card-function-btn",children:[Object(r.jsx)(Ze.a,{fontSize:"small"}),Object(r.jsx)("p",{children:"Attachment"})]})]})]})]})]})})}),st=(n(177),function(e){var t=e.card,n=e.index,c=a.useState(!1),s=Object(l.a)(c,2),i=s[0],o=s[1];return Object(r.jsx)(_e.b,{draggableId:t._id,index:n,children:function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("article",Object(x.a)(Object(x.a)(Object(x.a)({className:"card-thumbnail",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{onClick:function(){return o(!0)},children:Object(r.jsx)("p",{className:"card-thumbnail-content",children:t.title})})),Object(r.jsx)(ct,{card:t,isModalOpen:i,closeModal:function(){return o(!1)}})]})}})}),it=(n(179),function(e){var t=e.title,n=e.columnId,c=a.useState(!1),s=Object(l.a)(c,2),i=s[0],o=s[1],u=a.useState(t),d=Object(l.a)(u,2),p=d[0],h=d[1],m=function(){var e=Object(b.a)(j.a.mark((function e(){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(!1),p===t){e.next=12;break}return e.prev=2,r="".concat("http://localhost:5000/api","/columns/").concat(n,"/title"),e.next=6,f.a.patch(r,{title:p},{withCredentials:!0});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),h(t);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return i?Object(r.jsx)(K.a,{onClickAway:m,children:Object(r.jsx)("input",{type:"text",value:p,onChange:function(e){e.preventDefault(),h(e.target.value)},className:"column-title",autoFocus:!0,onKeyUp:function(e){"Enter"===e.key&&m()}})}):Object(r.jsx)("h2",{onClick:function(){return o(!0)},className:"column-title",children:p})}),ot=n(111),ut=n.n(ot),lt=(n(180),function(e){var t=e.title,n=e.columnId,a=e.cards,c=Object(u.c)(S),s=Object(l.a)(c,2),i=s[0],o=s[1],d=function(){if(i){var e=Object(x.a)({},i),t=e.columns.findIndex((function(e){return e._id===n}));e.columns.splice(t,1),o(e),Oe(n)}};return Object(r.jsx)(_e.c,{droppableId:n,type:"cards",children:function(e){return Object(r.jsxs)("section",Object(x.a)(Object(x.a)({className:"column"},e.droppableProps),{},{ref:e.innerRef,children:[Object(r.jsxs)("header",{className:"column-title-container",children:[Object(r.jsx)(it,{title:t,columnId:n}),Object(r.jsx)(ut.a,{className:"menu-icon",fontSize:"small",onClick:d})]}),a.map((function(e,t){return Object(r.jsx)(st,{card:e,index:t},e._id)})),e.placeholder]}))}})}),dt=(n(181),function(e){var t=e.columns,n=e.addCard;return Object(r.jsx)(r.Fragment,{children:t.map((function(e,t){var a=e.title,c=e._id,s=e.cards;return Object(r.jsx)(_e.b,{draggableId:c,index:t,children:function(e){return Object(r.jsxs)("div",Object(x.a)(Object(x.a)(Object(x.a)({className:"column"},e.draggableProps),{},{ref:e.innerRef},e.dragHandleProps),{},{children:[Object(r.jsx)(lt,{title:a,columnId:c,cards:s}),Object(r.jsx)(Ge,{id:c,type:"card",addFunction:n})]}))}},c)}))})}),jt=(n(182),function(){var e=Object(o.h)().boardId,t=function(e){var t=Object(u.c)(S),n=Object(l.a)(t,2),r=n[0],a=n[1],s=c.a.useCallback(Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/boards/".concat(e));case 3:n=t.sent,a(n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),[a,e]);return c.a.useEffect((function(){return s(),function(){a(void 0)}}),[s,a]),{board:r,setBoard:a}}(e),n=t.board,a=t.setBoard,s=function(e,t,r,c){var s=Object(x.a)({},n);if("card"===e){var i=s.columns.find((function(e){return e._id===c}));null===i||void 0===i||i.cards.push({title:t,column:"",comments:[],labels:[],attachments:[],_id:r})}return"column"===e&&s.columns.push({title:t,cards:[],board:"",_id:r}),a(s)},i=function(){var e=Object(b.a)(j.a.mark((function e(t){var r,c,s,i,o,u,d,b,p,f,h,m,O;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.source,c=t.destination,s=t.draggableId,i=t.type,c){e.next=3;break}return e.abrupt("return");case 3:if(o=Object(x.a)({},n),"column"!==i){e.next=9;break}return u=o.columns.splice(r.index,1),d=Object(l.a)(u,1),b=d[0],o.columns.splice(c.index,0,b),a(o),e.abrupt("return",me(o._id,b._id,c.index));case 9:return p=o.columns.find((function(e){return e._id===r.droppableId})),f=o.columns.find((function(e){return e._id===c.droppableId})),h=p.cards.splice(r.index,1),m=Object(l.a)(h,1),O=m[0],f.cards.splice(c.index,0,O),a(o),e.abrupt("return",he(r.droppableId,s,c));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?Object(r.jsxs)("main",{className:"board-page",children:[Object(r.jsx)(Te,{title:n.title,users:n.users,boardId:n._id}),Object(r.jsx)(_e.a,{onDragEnd:i,children:Object(r.jsx)(_e.c,{droppableId:"all-columns",direction:"horizontal",type:"column",children:function(t){return Object(r.jsxs)("div",Object(x.a)(Object(x.a)({className:"columns"},t.droppableProps),{},{ref:t.innerRef,children:[Object(r.jsx)(dt,{addCard:s,columns:n.columns}),t.placeholder,Object(r.jsx)(Ge,{id:e,type:"column",addFunction:s})]}))}})})]}):Object(r.jsx)(r.Fragment,{})}),bt=(n(183),function(){var e=a.useState(),t=Object(l.a)(e,2),n=t[0],c=t[1],s=function(){var e=Object(b.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=new FormData,n){e.next=4;break}return e.abrupt("return",alert("Please select a picture"));case 4:return r.append("attachment",n),e.prev=5,e.next=8,f.a.post("".concat("http://localhost:5000/api","/users/profile/add"),r,{withCredentials:!0});case 8:c(void 0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"image-upload",children:[Object(r.jsx)("p",{children:"Change profile picture"}),Object(r.jsxs)("form",{className:"picture-form",onSubmit:s,children:[Object(r.jsxs)("label",{htmlFor:"img",className:"picture-input-label",children:[" ",Object(r.jsx)("img",{src:n?URL.createObjectURL(n):"https://www.doctorlasercursos.com.br/uploads/avatars/2016/06/empty-avatar.jpg",alt:"uploaded",height:80,width:80})]}),Object(r.jsx)("input",{type:"file",onChange:function(e){e.target.files&&c(e.target.files[0])},id:"img",className:"picture-input"}),Object(r.jsx)("button",{onClick:s,className:"upload-button",children:"Upload"})]})]})}),pt=(n(184),function(){var e=k().userDetails,t=e.name,n=e.email,c=a.useState({name:t,email:n}),s=Object(l.a)(c,2),i=s[0],o=s[1],u=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value;o(Object(x.a)(Object(x.a)({},i),{},Object(ke.a)({},n,r)))},d=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"profile-page",children:[Object(r.jsxs)("form",{onSubmit:d,className:"signin-form",children:[Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"name",className:"label",children:"Name:"}),Object(r.jsx)("input",{type:"text",value:i.name,name:"name",onChange:u,className:"input"})]}),Object(r.jsxs)("div",{className:"form-field",children:[Object(r.jsx)("label",{htmlFor:"email",className:"label",children:"Email:"}),Object(r.jsx)("input",{type:"text",value:i.email,name:"email",onChange:u,className:"input"})]}),Object(r.jsx)("button",{type:"submit",className:"button btn-blue",children:"Save changes"})]}),Object(r.jsx)(bt,{})]})}),ft=(n(185),function(){return function(e){var t=c.a.useState(!0),n=Object(l.a)(t,2),r=n[0],a=n[1],s=c.a.useCallback(Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("/users/session");case 3:if(!(n=t.sent).data){t.next=7;break}return e({type:"Login success",payload:n.data}),t.abrupt("return",a(!1));case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),e({type:"Login fail",payload:t.t0}),t.abrupt("return",a(!1));case 13:a(!1);case 14:case"end":return t.stop()}}),t,null,[[0,9]])}))),[e]);return c.a.useEffect((function(){s()}),[s]),{isLoading:r}}(C()).isLoading?null:Object(r.jsx)(u.a,{children:Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(ie,{}),Object(r.jsx)(z,{children:Object(r.jsxs)(o.d,{children:[Object(r.jsx)(o.b,{path:"/",exact:!0,component:Pe}),Object(r.jsx)(oe,{component:jt,path:"/boards/:boardId",exact:!0}),Object(r.jsx)(oe,{path:"/profile",exact:!0,component:pt})]})}),Object(r.jsx)(_,{})]})})});n(186);i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(H.a,{basename:"",children:Object(r.jsx)(N,{children:Object(r.jsx)(ft,{})})})}),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.7acbb3d6.chunk.js.map